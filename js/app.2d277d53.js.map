{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?c548","webpack:///./src/components/Board.vue?61b3","webpack:///./src/oscs/Connection.js","webpack:///./src/libs/coordinate.js","webpack:///./src/ui/UIBase.js","webpack:///./src/oscs/ModuleBase.js","webpack:///./src/oscs/Oscillator.js","webpack:///./src/oscs/Busses.js","webpack:///./src/oscs/SourceInput.js","webpack:///./src/oscs/FinalGain.js","webpack:///./src/store.js","webpack:///./src/ui/Interaction.js","webpack:///src/components/Board.vue","webpack:///./src/components/Board.vue?6514","webpack:///./src/components/Board.vue","webpack:///./src/components/CtrlPanel.vue?46b3","webpack:///src/components/CtrlPanel.vue","webpack:///./src/components/CtrlPanel.vue?9c4d","webpack:///./src/components/CtrlPanel.vue","webpack:///./src/components/Keyboard.vue?9aa6","webpack:///src/components/Keyboard.vue","webpack:///./src/components/Keyboard.vue?211f","webpack:///./src/components/Keyboard.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","ref","width","height","ctx","parent","targetObjs","draw","beginPath","strokeStyle","destPosition","rect","getCenter","moveTo","x","y","lineTo","stroke","connect","obj","disConnect","console","log","Rect","Point","checkRect","rt","point","add","a","b","addByPoint","id","type","childs","Date","getTime","move","basePos","hittest","addChild","moduleBase","UIBase","connections","destination","connection","Connection","disconnect","constructor","Osc","audioCtx","ModuleBase","createOscillator","frequency","start","fillStyle","fillRect","font","fillText","graphicCtx","crea","connectTo","target","setNote","freq","SourceInput","source","createConstantSource","playNote","offset","arc","Math","PI","fill","FinalGain","finalGain","createGain","protytype","Vue","use","Vuex","store","Store","state","test","childObjs","sourceInput","redraw","reevalute","getters","lengthOfChild","keys","mutations","setCtx","setAudioCtx","addOsc","addBus","Bus","from","to","connectToOutput","setSource","changeOscType","payload","initSourceInput","initFinalGain","position","self","mouseDown","selectedObj","previousPoint","onMouseMove","event","deltaX","offsetX","deltaY","offsetY","currentPosition","commit","onMouseDown","onMouseUp","interaction","Interaction","props","Number","default","mounted","$refs","canvas","addEventListener","$store","getContext","AudioContext","newObjName","computed","watch","methods","component","on","_v","noteFreq","aKey","color","keyCompare","pow","floor","v","prevWhiteX","widthOfWhiteKey","sort","k","pressed","e","forEach","components","Board","Keyboard","CtrlPanel","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.2d277d53.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/beige/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Board'),_c('Keyboard'),_c('CtrlPanel',{attrs:{\"id\":\"ctrlpanel\",\"width\":500,\"height\":100}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Board\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// each connection will be implemented as class later\n// import arrow from '../ui/arrow'\nexport default function(ctx, parent) {\n    this.ctx = ctx\n    this.targetObjs = {}\n    this.parent = parent\n    \n    this.draw = function() {\n        this.ctx.beginPath()\n        this.ctx.strokeStyle = \"white\"\n\n        for (let key in this.targetObjs) {\n            let destPosition = this.targetObjs[key].rect.getCenter()\n\n            let c = parent.getCenter()\n            this.ctx.moveTo(c.x, c.y)\n            this.ctx.lineTo(destPosition.x, destPosition.y)\n        }\n\n        this.ctx.stroke()\n    }\n    \n    this.connect = function(obj) {\n        this.targetObjs[obj.name] = obj\n    }\n\n    this.disConnect = function(obj) {\n        console.log(obj)\n    }\n}","var Rect = function (x, y, width, height) {\n    this.x = x\n    this.y = y\n    this.width = width\n    this.height = height\n\n    this.getCenter = function () {\n        return new Point(this.x + (this.width * 0.5), this.y + (this.height * 0.5))\n    }\n}\nvar Point = function (x, y) {\n    this.x = x\n    this.y = y\n}\nvar checkRect = function (rt, point) {\n    if (point.x >= rt.x && point.x < rt.x + rt.width && point.y >= rt.y && point.y < rt.y + rt.height) {\n        return true\n    }\n\n    return false\n}\n\nPoint.add = function (a, b) {\n    return new Point(a.x + b.x, a.y + b.y)\n}\n\nRect.addByPoint = function (rect, point) {\n    return new Rect(rect.x + point.x, rect.y + point.y, rect.width, rect.height)\n}\n\n\nexport { checkRect, Rect, Point }","import { Rect, checkRect, Point } from '../libs/coordinate'\n\n// base component of all ui \n// ctx : canvas context\n// id : idientifier, must be unique\nexport default function (ctx, id, type) {\n    this.rect = new Rect(0, 0, 0, 0)\n    this.ctx = ctx\n    this.parent = null\n    this.childs = []\n\n    if (type) {\n        this.type = type\n    }\n    else {\n        this.type = \"notype\"\n    }\n    if (id) {\n        this.id = id\n    }\n    else {\n        this.id = this.type + '_' + new Date().getTime()\n    }\n\n    this.move = function (x, y) {\n        // position sets based on their parent \n        let basePos = new Point(0, 0)\n        if (this.parent) {\n            basePos.x = this.parent.rect.x\n            basePos.y = this.parent.rect.y\n        }\n\n        this.rect.x = basePos.x + x\n        this.rect.y = basePos.y + y\n    }\n\n    this.hittest = function (x, y) {\n        return checkRect(this.rect, new Point(x, y))\n    }\n\n    this.getCenter = function () {\n        return this.rect.getCenter()\n    }\n\n    this.addChild = function (obj) {\n        obj.parent = this\n        this.childs.push(obj)\n    }\n}","import Connection from './Connection'\nimport UIBase from '../ui/UIBase'\nvar moduleBase = function (id, ctx) {\n    UIBase.call(this, ctx, id)\n    this.connections = []\n\n    this.connect = function (destination) {\n        let connection = new Connection(this.ctx, this)\n        connection.connect(destination)\n        this.connections.push(connection)\n    }\n\n    this.disconnect = function () {\n\n    }\n\n    this.draw = function() {\n        for (let key in this.connections) {\n            this.connections[key].draw()\n        }\n    }\n}\n\nmoduleBase.prototype = new UIBase()\nmoduleBase.prototype.constructor = moduleBase\nexport default moduleBase","import ModuleBase from './ModuleBase'\n\nvar Osc = function (name, ctx, audioCtx) {\n    ModuleBase.call(this, name, ctx)\n    this.rect.width = 50\n    this.rect.height = 50\n\n    // audio\n    this.o = audioCtx.createOscillator()\n    this.o.type = \"sine\"\n    this.o.frequency.value = 0\n    this.o.start()\n\n    // user interface\n\n    this.draw = function () {\n        Osc.prototype.draw.call(this)\n        ctx.fillStyle = \"grey\"\n        ctx.fillRect(this.rect.x, this.rect.y, this.rect.width, this.rect.height)\n\n        // draw knobs\n        ctx.font = \"30px Arial\";\n        ctx.fillStyle = \"white\"\n        ctx.fillText(\"type : \" + this.o.type, this.rect.x, this.rect.y)\n    }\n}\n\nOsc.prototype = new ModuleBase()\nOsc.prototype.constructor = Osc\n\nexport default Osc","export default function(name, graphicCtx, audioCtx) {\n    this.ctx = graphicCtx\n    this.name = name\n    this.o = audioCtx.crea\n    this.destination = ''\n\n    this.draw = function() {\n\n    }\n\n    this.connectTo = function(target) {\n        this.o.connect(target.o)\n    }\n\n    this.setNote = function (freq) {\n        this.o.frequency.value = freq\n    }\n}","import ModuleBase from './ModuleBase'\n\nvar SourceInput = function (ctx, audioCtx) {\n    ModuleBase.call(this, 'sourceInput', ctx)\n\n    this.rect.width = 20\n    this.rect.height = 10\n    this.audioCtx = audioCtx\n    this.source = this.audioCtx.createConstantSource()\n\n    this.start = function () {\n        this.source.start()\n    }\n\n    this.connect = function (module) {\n        this.source.connect(module.o.frequency)\n        SourceInput.prototype.connect.call(this, module)\n    }\n    this.playNote = function (freq) {\n        this.source.offset.value = freq\n    }\n    this.draw = function () {\n        SourceInput.prototype.draw.call(this)\n        ctx.fillStyle = \"white\"\n        ctx.beginPath()\n        ctx.arc(this.rect.x, this.rect.y, this.rect.width, 0, 2 * Math.PI)\n        ctx.fill()\n        ctx.stroke()\n    }\n}\n\nSourceInput.prototype = new ModuleBase()\nSourceInput.prototype.constructor = SourceInput\n\nexport default SourceInput","import UIBase from '../ui/UIBase'\n\nvar FinalGain = function (ctx, audioCtx) {\n    UIBase.call(this, ctx, 'finalGain')\n    this.rect.width = 20\n    this.rect.height = 10\n    this.audioCtx = audioCtx\n    this.finalGain = this.audioCtx.createGain()\n\n    this.finalGain.connect(this.audioCtx.destination)\n\n    this.start = function () {\n        this.source.start()\n    }\n\n    this.connect = function (destination) {\n        this.source.connect(destination)\n    }\n    this.playNote = function (freq) {\n        this.source.offset.value = freq\n    }\n    this.draw = function () {\n        ctx.fillStyle = \"red\"\n        ctx.beginPath()\n        ctx.arc(this.rect.x, this.rect.y, this.rect.width, 0, 2 * Math.PI)\n        ctx.fill()\n        ctx.stroke()\n    }\n}\n\nFinalGain.protytype = new UIBase()\nFinalGain.prototype.constructor = FinalGain\n\nexport default FinalGain","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Osc from './oscs/Oscillator'\nimport Bus from './oscs/Busses'\nimport SourceInput from './oscs/SourceInput'\nimport FinalGain from './oscs/FinalGain'\n\nVue.use(Vuex);\n\n\nexport const store = new Vuex.Store({\n    state: {\n        test: [],\n        childObjs: {},\n        sourceInput: Object,\n        finalGain: Object,\n        ctx: Object,\n        audioCtx: Object,\n        redraw: 0,\n        reevalute: 1\n    },\n    getters: {\n        childObjs: state => { return state.childObjs }\n        , redraw: state => { return state.redraw }\n        , lengthOfChild: state => {\n            if (state.reevalute)\n                return Object.keys(state.childObjs).length\n        }\n    },\n    mutations: {\n        setCtx(state, ctx) {\n            state.ctx = ctx\n        },\n        setAudioCtx(state, audioCtx) {\n            state.audioCtx = audioCtx\n        },\n        addOsc(state, name) {\n            state.childObjs[name] = new Osc(name, state.ctx, state.audioCtx)\n            state.reevalute++\n        },\n        addBus(state, name) {\n            state.childObjs[name] = new Bus(name, state.ctx)\n        },\n        playNote(state, freq) {\n            state.sourceInput.playNote(freq)\n        },\n        connect(state, from, to) {\n            state.childObjs[from].o.connect(state.childObjs[to].o)\n        },\n        connectToOutput(state, target) {\n            state.childObjs[target].o.connect(state.finalGain.finalGain)\n            state.childObjs[target].connect(state.finalGain)\n        },\n        setSource(state, target) {\n            // assume that target is a osc\n            state.sourceInput.connect(state.childObjs[target])\n        },\n        changeOscType(state, payload) {\n            state.childObjs[payload.name].o.type = payload.type\n        },\n        initSourceInput(state) {\n            state.sourceInput = new SourceInput(state.ctx, state.audioCtx)\n            state.sourceInput.start()\n            state.childObjs[\"sourceInput\"] = state.sourceInput\n        },\n        initFinalGain(state) {\n            state.finalGain = new FinalGain(state.ctx, state.audioCtx)\n            state.childObjs[\"finalGain\"] = state.finalGain\n        },\n        move(state, payload) {\n            state.childObjs[payload.name].move(payload.position.x, payload.position.y)\n        },\n        redraw(state) {\n            state.redraw++\n        }\n    },\n});","import { store } from '../store'\nimport { Point } from '../libs/coordinate'\n\nexport default function () {\n    var self = this\n    self.mouseDown = false\n    self.selectedObj = null\n    self.previousPoint = new Point(0, 0)\n\n    this.onMouseMove = function (event) {\n        if (self.selectedObj) {\n            let deltaX = event.offsetX - self.previousPoint.x\n            let deltaY = event.offsetY - self.previousPoint.y\n\n            let currentPosition = self.selectedObj.rect\n            self.selectedObj.move(currentPosition.x + deltaX, currentPosition.y + deltaY)\n            store.commit('redraw')\n        }\n        self.previousPoint.x = event.offsetX\n        self.previousPoint.y = event.offsetY\n    }\n\n    this.onMouseDown = function (event) {\n        self.previousPoint.x = event.offsetX\n        self.previousPoint.y = event.offsetY\n\n        for (let key in store.getters.childObjs) {\n            let obj = store.getters.childObjs[key]\n            if (obj.hittest(event.offsetX, event.offsetY)) {\n                self.selectedObj = obj\n            }\n        }\n    }\n\n    this.onMouseUp = function () {\n        self.selectedObj = null\n    }\n}","<template>\n  <div class=\"Board\">\n    <canvas ref=\"canvas\" :width=\"width\" :height=\"height\" class=\"canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport Interaction from \"../ui/Interaction\"\n\nexport default {\n  data: function() {\n    return {\n      interaction: new Interaction()\n    }\n  },\n  props: {\n    width: {\n      type: Number,\n      default: 500\n    },\n    height: {\n      type: Number,\n      default: 400\n    }\n  },\n  mounted() {\n    this.$refs.canvas.addEventListener(\"mousedown\", this.interaction.onMouseDown)\n    this.$refs.canvas.addEventListener(\"mouseup\", this.interaction.onMouseUp)\n    this.$refs.canvas.addEventListener(\"mousemove\", this.interaction.onMouseMove)\n\n    this.$store.commit(\"setCtx\", this.$refs.canvas.getContext(\"2d\"));\n    this.$store.commit(\"setAudioCtx\", new AudioContext());\n\n    this.$store.commit(\"initSourceInput\");\n    this.$store.commit(\"initFinalGain\");\n    this.$store.commit(\"move\", {name: \"sourceInput\", position:{x:30, y:200}})\n    this.$store.commit(\"move\", {name: \"finalGain\", position:{x:450, y:200}})\n\n    let newObjName = this.$store.getters.lengthOfChild;\n    this.$store.commit(\"addOsc\", newObjName);\n    this.$store.commit(\"connectToOutput\", newObjName);\n    this.$store.commit(\"changeOscType\", {name: newObjName, type: \"triangle\"});\n    this.$store.commit(\"setSource\", newObjName);\n    this.$store.commit(\"move\", {name: newObjName, position:{x:100, y:100}})\n\n    this.draw();\n  },\n  computed: mapState([\"childObjs\", \"ctx\", \"sourceInput\", \"finalGain\", \"redraw\"]),\n  watch: {\n    childObjs: function() {\n      this.draw();\n    }\n    ,redraw: function() {\n      this.draw();\n    }\n  \n  },\n  methods: {\n    draw() {\n      this.ctx.fillStyle = \"black\"\n      this.ctx.fillRect(0, 0, this.width, this.height);\n\n      for (let key in this.childObjs) {\n        this.childObjs[key].draw();\n      }\n\n      this.sourceInput.draw()\n      this.finalGain.draw()\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=9afa839e&\"\nimport script from \"./Board.vue?vue&type=script&lang=js&\"\nexport * from \"./Board.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"CtrlPanel\"}},[_c('button',{on:{\"click\":_vm.add}},[_vm._v(\"Oscillator\")]),_c('button',[_vm._v(\"Reverb\")]),_c('button',[_vm._v(\"Delay\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"CtrlPanel\">\n    <button v-on:click=\"add\">Oscillator</button>\n    <button>Reverb</button>\n    <button>Delay</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    width: {\n      type: Number,\n      default: 500\n    },\n    height: {\n      type: Number,\n      default: 100\n    }\n  },\n  methods: {\n    add() {\n      let newObjName = this.$store.getters.lengthOfChild + 1;\n      console.log(newObjName);\n      this.$store.commit(\"addOsc\", newObjName);\n      this.$store.commit(\"addOsc\", newObjName);\n      this.$store.commit(\"connectToOutput\", newObjName);\n      this.$store.commit(\"changeOscType\", {\n        name: newObjName,\n        type: \"triangle\"\n      });\n      this.$store.commit(\"setSource\", newObjName);\n      let x = Math.random() * 1000 % 50;\n      let pm = Math.random() < 0.5 ? -1 : 1 \n      this.$store.commit(\"move\", {\n        name: newObjName,\n        position: { x: 100 + (x * pm), y: 100 + (x * pm) }\n      });\n      this.$store.commit(\"redraw\");\n    }\n  },\n  mounted() {}\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtrlPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CtrlPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CtrlPanel.vue?vue&type=template&id=e749b752&\"\nimport script from \"./CtrlPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./CtrlPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Keyboard\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"width\":_vm.width,\"height\":_vm.height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Keyboard\">\n    <canvas ref=\"canvas\" :width=\"width\" :height=\"height\" class=\"canvas\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { checkRect, Rect, Point } from \"../libs/coordinate.js\";\n\nvar noteFreq = [\n  16.35,\n  17.32,\n  18.35,\n  19.45,\n  20.6,\n  21.83,\n  23.12,\n  24.5,\n  25.96,\n  27.5,\n  29.14,\n  30.87\n];\n\nfunction aKey() {\n  this.frequency = 0;\n  this.rt = new Rect(0, 0, 0, 0);\n  this.color = \"white\";\n}\n\nfunction keyCompare(a, b) {\n  if (a.color == b.color) return 0;\n  if (a.color == \"white\") return -1;\n\n  return 1;\n}\n\nexport default {\n  props: {\n    width: {\n      type: Number,\n      default: 500\n    },\n    height: {\n      type: Number,\n      default: 80\n    }\n  },\n  data: function() {\n    return {\n      keys: [],\n      mouseDown: false\n    };\n  },\n  mounted() {\n    this.ctx = this.$refs.canvas.getContext(\"2d\");\n    this.ctx.fillStyle = \"black\";\n    this.$refs.canvas.addEventListener(\"mousedown\", this.onMouseDown);\n    this.$refs.canvas.addEventListener(\"mouseup\", this.onMouseUp);\n    this.$refs.canvas.addEventListener(\"mousemove\", this.onMouseMove);\n\n    // initialize virtual keyboard\n    let prevWhiteX = 0;\n    const widthOfWhiteKey = 25;\n    const widthOfBlackKey = 13;\n\n    for (let i = 0; i < 55; i++) {\n      let v = i % 12;\n      let key = new aKey();\n\n      // black keys\n      key.freq = noteFreq[i % 12] * Math.pow(2, Math.floor(i / 12 + 1)) * 4;\n      if (v == 1 || v == 3 || v == 6 || v == 8 || v == 10) {\n        key.rt = new Rect(\n          prevWhiteX - widthOfWhiteKey * 0.3,\n          0,\n          widthOfBlackKey,\n          this.height * 0.6\n        );\n        key.color = \"black\";\n      } else {\n        // white keys\n        key.rt = new Rect(prevWhiteX, 0, widthOfWhiteKey, this.height);\n        key.color = \"white\";\n        prevWhiteX = key.rt.x + widthOfWhiteKey;\n      }\n\n      this.keys.push(key);\n    }\n\n    this.keys.sort(keyCompare);\n\n    this.draw();\n  },\n  watch: {},\n  methods: {\n    onMouseDown(e) {\n      // find a touched key\n      let l = this.keys.length;\n\n      for (var i = l - 1; i >= 0; i--) {\n        let k = this.keys[i];\n        k.pressed = false;\n        if (checkRect(k.rt, new Point(e.offsetX, e.offsetY))) {\n          this.mouseDown = true;\n          k.pressed = true;\n          this.$store.commit(\"playNote\", k.freq);\n\n          break;\n        }\n      }\n\n      for (let j = i - 1; j >= 0; j--) {\n        this.keys[j].pressed = false;\n      }\n      this.draw();\n    },\n    onMouseUp() {\n      this.mouseDown = false;\n      this.keys.forEach(k => {\n        k.pressed = false;\n      });\n      this.$store.commit(\"playNote\", 0);\n      this.draw();\n    },\n    onMouseMove(e) {\n      if (this.mouseDown) {\n        let l = this.keys.length;\n\n        for (var i = l - 1; i >= 0; i--) {\n          let k = this.keys[i];\n          k.pressed = false;\n          if (checkRect(k.rt, new Point(e.offsetX, e.offsetY))) {\n            this.mouseDown = true;\n            k.pressed = true;\n            this.$store.commit(\"playNote\", k.freq);\n            break;\n          }\n        }\n\n        for (let j = i - 1; j >= 0; j--) {\n          this.keys[j].pressed = false;\n        }\n\n        this.draw();\n      }\n    },\n    draw() {\n      this.ctx.beginPath();\n      this.ctx.rect(0, 0, this.width, this.height);\n      this.ctx.stroke();\n      // draw keyboard\n      this.keys.forEach(k => {\n        this.ctx.beginPath();\n\n        if (k.pressed) {\n          this.ctx.fillStyle = \"#FDDFDF\";\n        } else {\n          this.ctx.fillStyle = k.color;\n        }\n        this.ctx.fillRect(k.rt.x, k.rt.y, k.rt.width, k.rt.height);\n\n        this.ctx.strokeStyle = \"black\";\n        this.ctx.rect(k.rt.x, k.rt.y, k.rt.width, k.rt.height);\n        this.ctx.stroke();\n      });\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Keyboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Keyboard.vue?vue&type=template&id=b8f8ce6c&\"\nimport script from \"./Keyboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Keyboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Board/>\n    <Keyboard/>\n    <CtrlPanel id=\"ctrlpanel\" :width=\"500\" :height=\"100\"/>\n  </div>\n</template>\n\n<script>\nimport Board from './components/Board.vue'\nimport CtrlPanel from './components/CtrlPanel.vue'\nimport Keyboard from './components/Keyboard.vue'\n\nexport default {\n  name: 'Beige',\n  components: {\n    Board,\n    Keyboard,\n    CtrlPanel\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=300820a0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport { store } from './store'\n\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}